<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pdq.ily</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="The_PDQ_Stylesheet"></a><a name="Topic14"></a><div class="CTopic TSection LLilyPond first">
 <div class="CTitle">The PDQ Stylesheet</div>
 <div class="CBody"><p>This file is the main entry point to the PDQ style sheet. This file should be included in your own projects in order to use the PDQ styles. This file does provide some functions however in most cases you don't need to use them directly as the stylesheet can be customized via options.</p></div>
</div>

<a name="Options"></a><a name="Topic15"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">Options</div>
 <div class="CBody"><p>The PDQ stylesheet can be customized using options. Options must be specified <b>before</b> the pdq.ily file is included. For example:</p><pre>dinPaper = ##t<br />\include <span class="SHString">&quot;pdq.ily&quot;</span></pre></div>
</div>

<a name="dinPaper"></a><a name="Topic16"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">dinPaper</div>
 <div id="NDPrototype16" class="NDPrototype NoParameterForm">dinPaper = ##f</div>
 <div class="CBody"><p>By default PDQ uses a custom paper format. However this may prove difficult when printing. This option overrides the default paper format and makes PDQ use the A4 paper format instead.</p></div>
</div>

<a name="debug"></a><a name="Topic17"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">debug</div>
 <div id="NDPrototype17" class="NDPrototype NoParameterForm">debug = ##f</div>
 <div class="CBody"><p>Set this option to #t to enable the debug mode. The debug mode is intended to help debug layout issue. PDQ will disable some spacing optimizations and will show annotations for flexible spacing variables. Also this will treat all warnings as errors. Debug mode should never be used when publishing scores.</p></div>
</div>

<a name="strict"></a><a name="Topic18"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">strict</div>
 <div id="NDPrototype18" class="NDPrototype NoParameterForm">strict = ##f</div>
 <div class="CBody"><p>Enables strict layout by enabling things ragged bottom pages. This should only be used for debugging purposes. If you want to enable ragged bottoms do so by setting it in a \paper block. In the future this option may include additional modifications that are not suitable for publishing.</p></div>
</div>

<a name="repeatTitle"></a><a name="Topic19"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">repeatTitle</div>
 <div id="NDPrototype19" class="NDPrototype NoParameterForm">repeatTitle = ##t</div>
 <div class="CBody"><p>By default the title is printed in the header of each of each page. If you don't want this behavior set the option to #f to suppress the title on subsequent pages.</p></div>
</div>

<a name="bookComposer"></a><a name="Topic20"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">bookComposer</div>
 <div id="NDPrototype20" class="NDPrototype NoParameterForm">bookComposer = ##f</div>
 <div class="CBody"><p>Print the composer in the book markup next to the title. For multi-movemement scores you usually want to set this to #t and set scoreComposer to #f to avoid printing the composer for each new movement.</p></div>
</div>

<a name="scoreComposer"></a><a name="Topic21"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">scoreComposer</div>
 <div id="NDPrototype21" class="NDPrototype NoParameterForm">scoreComposer = ##t</div>
 <div class="CBody"><p>Print the composer in the score markup. This is the default. This prints the composer before every score. While this is preferred for single scores or for multi-composer books you might want to disable this option if you are engraving multiple scores from the same piece.</p></div>
</div>

<a name="twoside"></a><a name="Topic22"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">twoside</div>
 <div id="NDPrototype22" class="NDPrototype NoParameterForm">twoside = ##t</div>
 <div class="CBody"><p>By default PDQ assumes that you will be creating a two sided score (that is two pages will be visible next to each other with the exception of the first and possibly the last page). To turn off this behavior set twoside to #f.</p></div>
</div>

<a name="repeatFooter"></a><a name="Topic23"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">repeatFooter</div>
 <div id="NDPrototype23" class="NDPrototype NoParameterForm">repeatFooter = ##f</div>
 <div class="CBody"><p>Print the footer not only on the first but on all pages.</p></div>
</div>

<a name="defaultTagline"></a><a name="Topic24"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">defaultTagline</div>
 <div id="NDPrototype24" class="NDPrototype NoParameterForm">defaultTagline = #f</div>
 <div class="CBody"><p>By default PDQ customizes the LilyPond tageline. To turn off these modifications set defaultTageline to #t.</p></div>
</div>

<a name="Custom_Definitions"></a><a name="Topic25"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">Custom Definitions</div>
 <div class="CBody"><p>The following definitions are used in the PDQ stylesheet automatically.</p></div>
</div>

<a name="Henle-scripts"></a><a name="Topic26"></a><div class="CTopic TVariable LLilyPond">
 <div class="CTitle">Henle-scripts</div>
 <div class="CBody"><p>These script tweaks are applied to the Script context.</p></div>
</div>

<a name="format-mark-pdq"></a><a name="Topic27"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">format-mark-pdq</div>
 <div class="CBody"><p>Formats rehearsal marks for the PDQ stylesheet. The formatter puts every mark (as a letter) in a square box. The marks are printed quite large for better readability.</p></div>
</div>

<a name="format-mark-pdq-numeric"></a><a name="Topic28"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">format-mark-pdq-numeric</div>
 <div class="CBody"><p>Formats rehearsal marks with numbers instead of letters. The formatter puts every mark in a square box. The marks are printed quite large for better readability.</p></div>
</div>

<a name="PDQ_Paper"></a><a name="Topic29"></a><div class="CTopic TSection LLilyPond">
 <div class="CTitle">PDQ Paper</div>
 <div class="CBody"><p>The PDQ stylesheet heavily modifies the LilyPond \paper. This section documents some of the modifications.</p></div>
</div>

<a name="The_PDQ_Paper_Format"></a><a name="Topic30"></a><div class="CTopic TInformation LLilyPond">
 <div class="CTitle">The PDQ Paper Format</div>
 <div class="CBody"><p>The PDQ stylesheet adds its own &quot;pdq&quot; paper format to LilyPond's paper-alist. The PDQ paper size is 23,3 cm x 30,9 cm.</p></div>
</div>

<a name="Styling_Options"></a><a name="Topic31"></a><div class="CTopic TInformation LLilyPond">
 <div class="CTitle">Styling Options</div>
 <div class="CBody"><p>The PDQ layout configures the base layout a little:</p><ul><li><p>Page numbers are printed.</p></li><li><p>A default indent is set.</p></li><li><p>Options for two sided layout, debugging and strict spacing are set.</p></li></ul></div>
</div>

<a name="Spacing"></a><a name="Topic32"></a><div class="CTopic TInformation LLilyPond">
 <div class="CTitle">Spacing</div>
 <div class="CBody"><p>The PDQ stylesheet heavily adjusts the default spacing variables. The main intention is to provide enough space for hand written annotations in scores. This is also the reason for PDQ's default paper format.</p></div>
</div>

<a name="Fonts"></a><a name="Topic33"></a><div class="CTopic TInformation LLilyPond">
 <div class="CTitle">Fonts</div>
 <div class="CBody"><p>The PDQ stylesheet uses non-standard fonts. For musical notation it uses the beethoven font and for sans-serif texts it uses the Yorkten font.</p></div>
</div>

<a name="Page_Content"></a><a name="Topic34"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">Page Content</div>
 <div class="CBody"><p>The PDQ stylehseet defines its own page headers and footers. The individual elements are described next. For a more high-level overview of the possible configuration regarding headers see the <a href="../index.html#File:pdq-header.ily:The_PDQ_Layout" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,1);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >The PDQ Layout</a>.</p></div>
</div>

<a name="headerCenter"></a><a name="Topic35"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">headerCenter</div>
 <div class="CBody"><p>At the top of each page the instrument name and book title is displayed.</p></div>
</div>

<a name="evenHeaderMarkup"></a><a name="Topic36"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">evenHeaderMarkup</div>
 <div class="CBody"><p>The header displays page numbers on the left (or on the outer side for twoside layouts).</p></div>
</div>

<a name="oddHeaderMarkup"></a><a name="Topic37"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">oddHeaderMarkup</div>
 <div class="CBody"><p>The header displays page numbers on the left (or on the outer side for twoside layouts).</p></div>
</div>

<a name="firstPageFooter"></a><a name="Topic38"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">firstPageFooter</div>
 <div class="CBody"><p>The footer on the first page displays information about the publisher, version, copyright, and a tagline. If the <a href="../index.html#File:pdq.ily:repeatFooter" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,23);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >repeatFooter</a> option is #t the footer is printed on every page.</p></div>
</div>

<a name="oddFooterMarkup"></a><a name="Topic39"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">oddFooterMarkup</div>
 <div class="CBody"><p>On odd pages the footer is displayed on the right.</p></div>
</div>

<a name="oddFooterMarkup(2)"></a><a name="Topic40"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">oddFooterMarkup</div>
 <div class="CBody"><p>On odd pages the footer is displayed on the left (if a twoside layout is used).</p></div>
</div>

<a name="bookTitleMarkup"></a><a name="Topic41"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">bookTitleMarkup</div>
 <div class="CBody"><p>Prints the header of a \book. See <a href="../index.html#File:pdq-header.ily:The_PDQ_Layout" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,1);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >The PDQ Layout</a> for details.</p></div>
</div>

<a name="scoreTitleMarkup"></a><a name="Topic42"></a><div class="CTopic TEvent LLilyPond">
 <div class="CTitle">scoreTitleMarkup</div>
 <div class="CBody"><p>Prints the header of a \score. See <a href="../index.html#File:pdq-header.ily:The_PDQ_Layout" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,1);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >The PDQ Layout</a> for details.</p></div>
</div>

<a name="PDQ_Layout"></a><a name="Topic43"></a><div class="CTopic TSection LLilyPond">
 <div class="CTitle">PDQ Layout</div>
 <div class="CBody"><p>The PDQ stylesheet heavily customizes the default LilyPond layout. This documentation provides an overview over the modifications.</p><p>In addition to the options the PDQ stylesheet can be customized using layouts. A layout is basically just a \layout block with some options applied to it. You can use layouts just as you would use any other layout:</p><pre>\layout {<br />  \partLayout<br />  <span class="SHComment">% More customizations</span><br />}</pre></div>
</div>

<a name="Context_Tweaks"></a><a name="Topic44"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">Context Tweaks</div>
 <div class="CBody"><p>The default PDQ layout tweaks multiple contexts to achieve its layout.</p></div>
</div>

<a name="Score"></a><a name="Topic45"></a><div class="CTopic TContext LLilyPond">
 <div class="CTitle">Score</div>
 <div class="CBody"><p>The main parts of PDQ's modifications apply to the Score context. Modifications include:</p><ul><li><p>Slightly adjusted note thicknesses.</p></li><li><p>Tweaked accidentals and slurs to better match the beethoven font.</p></li><li><p>A custom rehearsal mark formatter using the <a href="../index.html#File:pdq.ily:format-mark-pdq" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,27);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >format-mark-pdq</a> function.</p></li><li><p>Adjusted bar number and instrument name fonts.</p></li><li><p>Adjusted spacing for handwritten annotations.</p></li></ul></div>
</div>

<a name="Staff"></a><a name="Topic46"></a><div class="CTopic TContext LLilyPond">
 <div class="CTitle">Staff</div>
 <div class="CBody"><p>PDQ modifies the Staff context to use modern accidentals as well as matching fonts.</p></div>
</div>

<a name="PianoStaff"></a><a name="Topic47"></a><div class="CTopic TContext LLilyPond">
 <div class="CTitle">PianoStaff</div>
 <div class="CBody"><p>Stems spanning multiple systems are connected.</p></div>
</div>

<a name="Dynamics"></a><a name="Topic48"></a><div class="CTopic TContext LLilyPond">
 <div class="CTitle">Dynamics</div>
 <div class="CBody"><p>Adjusted fonts and better readability.</p></div>
</div>

<a name="Voice"></a><a name="Topic49"></a><div class="CTopic TContext LLilyPond">
 <div class="CTitle">Voice</div>
 <div class="CBody"><p>Adjusted spacing and fonts.</p></div>
</div>

<a name="CueVoice"></a><a name="Topic50"></a><div class="CTopic TContext LLilyPond">
 <div class="CTitle">CueVoice</div>
 <div class="CBody"><p>Does not display dynamic spanners.</p></div>
</div>

<a name="Selectable_Layouts"></a><a name="Topic51"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">Selectable Layouts</div>
 <div class="CBody"><p>You can easily apply specific layout tweaks using one of the predefined layouts. The layouts are specialized for specifiec use cases but feel free to use any layout however you may see fit. Some of the layouts also provide an associated paper definition that applies some modifications to PDQ's default paper.</p><p>When using a predefined layout you must make sure that you include your own layout tweaks <b>after</b> using the predefined layout. Otherwise your tweaks will be overridden even if the predefined layout does not define another value for some property. This is due to the fact that layout blocks capture the layout at definition time.</p><p>For the same reason you unfortunately cannot mix different predefined layouts. The last layout in a \layout block will take precedence over all others.</p><div class="CHeading">Example</div><pre>\layout {<br />  \partLayout<br />  <span class="SHComment">% After using the \partLayout we can add our own customizations.</span><br />  indent = <span class="SHNumber">5</span>\mm<br />}<br /><br /><span class="SHComment">% When we don't want to apply further customizations one may omit the outer \layout</span><br /><span class="SHComment">% or \paper block.</span><br />\partPaper</pre></div>
</div>

<a name="partLayout"></a><a name="Topic52"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">partLayout</div>
 <div id="NDPrototype52" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">partLayout = \layout {</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first last">...</td></tr></table></td><td class="PAfterParameters">}</td></tr></table></div>
 <div class="CBody"><p>The part layout can be used to set single voice parts (but not neccesarily for scores). It is not intended to be used for piano parts. This includes the skipBars option, removes instrument names etc.</p><p>For partLayouts it is recommended to also use the <a href="../index.html#File:pdq.ily:partPaper" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,54);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >partPaper</a>.</p></div>
</div>

<a name="transposedPartLayout"></a><a name="Topic53"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">transposedPartLayout</div>
 <div id="NDPrototype53" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">transposedPartLayout = \layout {</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first last">...</td></tr></table></td><td class="PAfterParameters">}</td></tr></table></div>
 <div class="CBody"><p>A variant of the \partLayout that is optimized for transposed instruments (e.g.&nbsp; french horn or clarinet). The layout keeps a small indent in order to enable placement of a transposition info in the instrumentName of a staff.</p><p>%! For transposedPartLayouts it is recommended to also use the <a href="../index.html#File:pdq.ily:partPaper" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,54);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >partPaper</a>.</p></div>
</div>

<a name="partPaper"></a><a name="Topic54"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">partPaper</div>
 <div id="NDPrototype54" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">partPaper = \paper {</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first last">...</td></tr></table></td><td class="PAfterParameters">}</td></tr></table></div>
 <div class="CBody"><p>This paper is optimized for printing parts. It enables turn based page breaking and adds page numbers.</p></div>
</div>

<a name="exerptLayout"></a><a name="Topic55"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">exerptLayout</div>
 <div id="NDPrototype55" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">exerptLayout = \layout {</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first last">...</td></tr></table></td><td class="PAfterParameters">}</td></tr></table></div>
 <div class="CBody"><p>This layout should be used for small exerpts of music. It should be combined with <a href="../index.html#File:pdq.ily:exerptPaper" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,56);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >exerptPaper</a>.</p></div>
</div>

<a name="exerptPaper"></a><a name="Topic56"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">exerptPaper</div>
 <div id="NDPrototype56" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">exerptPaper = \paper {</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first last">...</td></tr></table></td><td class="PAfterParameters">}</td></tr></table></div>
 <div class="CBody"><p>This paper should be used for small exerpts of music. It enables a ragged bottom for the last page.</p></div>
</div>

<a name="scoreLayout"></a><a name="Topic57"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">scoreLayout</div>
 <div id="NDPrototype57" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">\scoreLayout = \layout {</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first last">...</td></tr></table></td><td class="PAfterParameters">}</td></tr></table></div>
 <div class="CBody"><p>The score layout can be used to set full scores with many voices and staffs.</p></div>
</div>

<a name="smallScoreLayout"></a><a name="Topic58"></a><div class="CTopic TFunction LLilyPond last">
 <div class="CTitle">smallScoreLayout</div>
 <div id="NDPrototype58" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">smallScoreLayout = \layout {</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first last">...</td></tr></table></td><td class="PAfterParameters">}</td></tr></table></div>
 <div class="CBody"><p>This layout (like the score layout) can be used to set small scores with multiple but not too many voices and staffs. It is up to you when a score is &quot;small&quot;.</p></div>
</div>

</body></html>