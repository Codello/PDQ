<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>util.ily</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="util.ily"></a><a name="Topic59"></a><div class="CTopic TFile LLilyPond first">
 <div class="CTitle">util.ily</div>
 <div class="CBody"><p>This file contains utility functions in Scheme that can be used to simplify some advanced tasks in LilyPond.</p></div>
</div>

<a name="LilyPond_Functions"></a><a name="Topic60"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">LilyPond Functions</div>
 <div class="CBody"><p>LilyPond functions can be used directly within your LilyPond source code.</p></div>
</div>

<a name="escalate-warnings"></a><a name="Topic61"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">escalate-warnings</div>
 <div id="NDPrototype61" class="NDPrototype NoParameterForm">\escalate-warnings</div>
 <div class="CBody"><p>Makes LilyPond treat all (user-issued) warnings as errors.</p></div>
</div>

<a name="Scheme_Functions"></a><a name="Topic62"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">Scheme Functions</div>
 <div class="CBody"><p>Scheme functions must be called in a Scheme environment (and aren't really all that useful elsewhere).</p></div>
</div>

<a name="defined_"></a><a name="Topic63"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">defined?</div>
 <div id="NDPrototype63" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">define&nbsp;</td><td class="PNamePrefix">(</td><td class="PName last">defined? symbol) ...</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>The defined? predicate tells you wether a specific symbol was previously defined. This may not work for standard functions but it works for custom definitions.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">symbol</td><td class="CDLDefinition"><p>A quoted symbol.</p></td></tr></table></div>
</div>

<a name="get-option"></a><a name="Topic64"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">get-option</div>
 <div id="NDPrototype64" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">define&nbsp;</td><td class="PNamePrefix">(</td><td class="PName last">get-option symbol default) ...</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>The test-option predicate tests wether the specified symbol was defined and set to a value that evaluates to #t (a value other that #f). This can be used to test whether package options have been specified. If a (package) option is set to a non-boolean value this predicate will return that value.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">symbol</td><td class="CDLDefinition"><p>A quoted symbol (the name of the option).</p></td></tr><tr><td class="CDLEntry">default</td><td class="CDLDefinition"><p>A default value that is returned if no definition for symbol is found.</p></td></tr></table></div>
</div>

<a name="any_"></a><a name="Topic65"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">any?</div>
 <div id="NDPrototype65" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">define&nbsp;</td><td class="PNamePrefix">(</td><td class="PName last">any? object) ...</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>A type predicate that is always true.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">object</td><td class="CDLDefinition"><p>The object to test. This parameter is ignored.</p></td></tr></table></div>
</div>

<a name="andmap"></a><a name="Topic66"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">andmap</div>
 <div id="NDPrototype66" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">define&nbsp;</td><td class="PNamePrefix">(</td><td class="PName last">andmap f xs) ...</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>A predicate that returns true iff f returns true for all elements in xs. If xs is empty this predicates evaluates to #t.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">f</td><td class="CDLDefinition"><p>A predicate function to apply to all xs.</p></td></tr><tr><td class="CDLEntry">xs</td><td class="CDLDefinition"><p>A list of values.</p></td></tr></table><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:ormap" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,67);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ormap</a></p></div>
</div>

<a name="ormap"></a><a name="Topic67"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">ormap</div>
 <div id="NDPrototype67" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">define&nbsp;</td><td class="PNamePrefix">(</td><td class="PName last">ormap f xs) ...</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>A predicate that returns true iff f returns true for any of the elements in xs. If xs is empty #f is returned.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">f</td><td class="CDLDefinition"><p>A predicate function to apply to all xs.</p></td></tr><tr><td class="CDLEntry">xs</td><td class="CDLDefinition"><p>A list of values.</p></td></tr></table><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:andmap" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,66);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >andmap</a></p></div>
</div>

<a name="custom-script-tweaks"></a><a name="Topic68"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">custom-script-tweaks</div>
 <div id="NDPrototype68" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters">(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">define&nbsp;</td><td class="PNamePrefix">((</td><td class="PName last">custom-script-tweaks ls) ...) ...</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Enables custom tweaks for single grobs.</p><div class="CHeading">Usage</div><pre>\override Script.before-line-breaking = #(custom-script-tweaks alist)</pre><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">ls</td><td class="CDLDefinition"><p>An alist of tweaks. Keys are strings and values are lists of pairs.</p></td></tr></table></div>
</div>

<a name="Markup_Commands"></a><a name="Topic69"></a><div class="CTopic TGroup LLilyPond">
 <div class="CTitle">Markup Commands</div>
 <div class="CBody"><p>Markup commands can be used inside of a \markup { ... } block. They provide additional features such as styling options.</p></div>
</div>

<a name="warn"></a><a name="Topic70"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">warn</div>
 <div id="NDPrototype70" class="NDPrototype NoParameterForm">\warn &lt;text&gt;</div>
 <div class="CBody"><p>A markup command that can be used to emit a warning. This may for example be useful if you want to mark a function as deprecated and emit a warning.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">text</td><td class="CDLDefinition"><p>The warning text that should be emitted.</p></td></tr></table><div class="CHeading">Returns</div><p>Empty markup.</p></div>
</div>

<a name="if-true"></a><a name="Topic71"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">if-true</div>
 <div id="NDPrototype71" class="NDPrototype NoParameterForm">\<span class="SHKeyword">if</span>-<span class="SHKeyword">true</span> &lt;predicate&gt; &lt;markp&gt;</div>
 <div class="CBody"><p>This markup command conditionally outputs markup based on a boolean value.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">predicate</td><td class="CDLDefinition"><p>A boolean value.</p></td></tr><tr><td class="CDLEntry">markp</td><td class="CDLDefinition"><p>Any markup.</p></td></tr></table><div class="CHeading">Returns</div><p>If predicate is #t markp is returned, otherwise an empty stencil.</p><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:if-false" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,72);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >if-false</a>, <a href="../index.html#File:util.ily:if-else" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,73);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >if-else</a></p></div>
</div>

<a name="if-false"></a><a name="Topic72"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">if-false</div>
 <div id="NDPrototype72" class="NDPrototype NoParameterForm">\<span class="SHKeyword">if</span>-<span class="SHKeyword">false</span> &lt;predicate&gt; &lt;markp&gt;</div>
 <div class="CBody"><p>This markup command conditionally outputs markup based on a boolean value.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">predicate</td><td class="CDLDefinition"><p>A boolean value.</p></td></tr><tr><td class="CDLEntry">markp</td><td class="CDLDefinition"><p>Any markup.</p></td></tr></table><div class="CHeading">Returns</div><p>If predicate is #f markp is returned, otherwise an empty stencil.</p><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:if-true" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,71);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >if-true</a>, <a href="../index.html#File:util.ily:if-else" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,73);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >if-else</a></p></div>
</div>

<a name="if-else"></a><a name="Topic73"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">if-else</div>
 <div id="NDPrototype73" class="NDPrototype NoParameterForm">\<span class="SHKeyword">if</span>-<span class="SHKeyword">else</span> &lt;predicate&gt; &lt;tmarkp&gt; &lt;fmarkp&gt;</div>
 <div class="CBody"><p>Conditionally outputs one of two markups depending on a boolean value.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">predicate</td><td class="CDLDefinition"><p>A boolean value.</p></td></tr><tr><td class="CDLEntry">tmarkp</td><td class="CDLDefinition"><p>The markup returned if predicate is #t.</p></td></tr><tr><td class="CDLEntry">fmarkp</td><td class="CDLDefinition"><p>The markup returned if predicate is #f.</p></td></tr></table><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:if-true" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,71);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >if-true</a>, <a href="../index.html#File:util.ily:if-false" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,72);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >if-false</a></p></div>
</div>

<a name="when-property"></a><a name="Topic74"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">when-property</div>
 <div id="NDPrototype74" class="NDPrototype NoParameterForm">\when-property &lt;symbol&gt; &lt;markp&gt;</div>
 <div class="CBody"><p>The \when-property markup command allows you to conditionally output markup.&nbsp; If symbol exists markp is returned. Otherwise an empty markup block is returned.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">symbol</td><td class="CDLDefinition"><p>A symbol.</p></td></tr><tr><td class="CDLEntry">marp</td><td class="CDLDefinition"><p>Some markup.</p></td></tr></table><div class="CHeading">Returns</div><p>markp if symbol exists in the current context, an empty stencil otherwise.</p><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:when-not-property" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,75);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >when-not-property</a>, <a href="../index.html#File:util.ily:when-some-properties" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,76);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >when-some-properties</a></p></div>
</div>

<a name="when-not-property"></a><a name="Topic75"></a><div class="CTopic TFunction LLilyPond">
 <div class="CTitle">when-not-property</div>
 <div id="NDPrototype75" class="NDPrototype NoParameterForm">\when-not-property &lt;symbol&gt; &lt;markp&gt;</div>
 <div class="CBody"><p>Behaves like \when-property but returns the markup block if symbol does not exist. If the symbol exists an empty markup block is returned.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">symbol</td><td class="CDLDefinition"><p>A symbol.</p></td></tr><tr><td class="CDLEntry">marp</td><td class="CDLDefinition"><p>Some markup.</p></td></tr></table><div class="CHeading">Returns</div><p>markp if symbol does not exist in the current context, an empty stencil otherwise.</p><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:when-property" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,74);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >when-property</a>, <a href="../index.html#File:util.ily:when-some-properties" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,76);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >when-some-properties</a></p></div>
</div>

<a name="when-some-properties"></a><a name="Topic76"></a><div class="CTopic TFunction LLilyPond last">
 <div class="CTitle">when-some-properties</div>
 <div id="NDPrototype76" class="NDPrototype NoParameterForm">\when-some-properties &lt;symbols&gt; &lt;markp&gt;</div>
 <div class="CBody"><p>Behaves like \when-property but accepts a list of properties instead of a single property.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">symbols</td><td class="CDLDefinition"><p>A list of symbol.</p></td></tr><tr><td class="CDLEntry">marp</td><td class="CDLDefinition"><p>Some markup.</p></td></tr></table><div class="CHeading">Returns</div><p>markp if any of the symbols exist in the current context, an empty stencil otherwise.</p><div class="CHeading">See Also</div><p><a href="../index.html#File:util.ily:when-property" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,74);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >when-property</a>, <a href="../index.html#File:util.ily:when-not-property" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,75);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >when-not-properties</a></p></div>
</div>

</body></html>